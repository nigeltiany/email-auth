{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f240bc0d72541c95bc4e","webpack:///./src/email-auth.js"],"names":["saveUser","path","user","database","ref","set","invokeMutation","mutation","_mutations","firebase","auth","currentUser","e","namespace","split","Error","EmailAuth","password","action","signInWithEmailAndPassword","then","catch","error","mutate","Promise","reject","email","resolve","createUserWithEmailAndPassword","console","log"],"mappings":"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","file":"email-auth.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"email-auth\"] = factory();\n\telse\n\t\troot[\"email-auth\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f240bc0d72541c95bc4e","const saveUser = (path='users/', user) => {\n  database().ref(path).set(user)\n}\n\nconst invokeMutation = (mutation) => {\n  try {\n    _mutations[mutation][0](firebase.auth().currentUser)\n  }catch (e) {\n    let namespace = mutation.split('/')[0]\n    let mutation = mutation.split('/')[1] || mutation\n    throw new Error('No mutation named ' + mutation + 'in the ' + ((mutation.split('/')[1]) ? namespace : 'global') + ' vuex namespace')\n  }\n}\n\nexport default class EmailAuth {\n  emailSignIn ({ firebase, database, _mutations }, user, password, action) {\n    if (typeof action === \"function\") {\n      firebase.auth().signInWithEmailAndPassword(user, password).then(\n        action(null, firebase.auth().currentUser)\n      ).catch(action(error))\n    }\n    else if (typeof action === \"object\") {\n      firebase.auth().signInWithEmailAndPassword(user, password).then(\n        () => {\n          if (action.mutate) {\n            invokeMutation(action.mutate)\n          }\n        }).catch((error) => {\n          return Promise.reject(error)\n        })\n    }\n    else {\n      // For Vuex\n      if (typeof user === \"object\") {\n        firebase.auth().signInWithEmailAndPassword(user.email, user.password).then(\n          () => {\n            if (user.mutate) {\n              invokeMutation(user.mutate)\n            }\n          }).catch((error) => {\n          return Promise.reject(error)\n        })\n      }\n      else {\n        return new Promise((resolve, reject) => {\n          firebase.auth().signInWithEmailAndPassword(user, password).then(\n            resolve(firebase.auth().currentUser)\n          ).catch((error) => {\n            reject(error)\n          })\n        })\n      }\n    }\n  }\n\n  emailSignUp ({ firebase, _mutations }, user, password, action) {\n    if (typeof action === \"function\") {\n      firebase.auth().createUserWithEmailAndPassword(user, password).then(\n        action(null, firebase.auth().currentUser)\n      ).catch(action(error))\n    }\n    else if (typeof action === \"object\") {\n      firebase.auth().createUserWithEmailAndPassword(user, password).then(\n      () => {\n        if (action.mutate) {\n          invokeMutation(action.mutate)\n        }\n      }).catch((error) => {\n        return Promise.reject(error)\n      })\n    }\n    else {\n      // For Vuex\n      if (typeof user === \"object\") {\n        firebase.auth().createUserWithEmailAndPassword(user.email, user.password).then(\n          () => {\n            if (user.mutate) {\n              invokeMutation(user.mutate)\n            }\n            console.log(firebase.auth().currentUser)\n            //saveUser(Object.create(user, ))\n          }).catch((error) => {\n          return Promise.reject(error)\n        })\n      }\n      else {\n        return new Promise((resolve, reject) => {\n          firebase.auth().createUserWithEmailAndPassword(user, password).then(\n            resolve(firebase.auth().currentUser)\n          ).catch((error) => {\n            reject(error)\n          })\n        })\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/email-auth.js"],"sourceRoot":""}